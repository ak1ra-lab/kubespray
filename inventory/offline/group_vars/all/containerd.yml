---
# Please see roles/container-engine/containerd/defaults/main.yml for more configuration options

# containerd_storage_dir: "/var/lib/containerd"
# containerd_state_dir: "/run/containerd"
# containerd_oom_score: 0

# containerd_default_runtime: "runc"
# containerd_snapshotter: "native"

# containerd_runc_runtime:
#   name: runc
#   type: "io.containerd.runc.v2"
#   engine: ""
#   root: ""

# containerd_additional_runtimes:
# Example for Kata Containers as additional runtime:
#   - name: kata
#     type: "io.containerd.kata.v2"
#     engine: ""
#     root: ""

# containerd_grpc_max_recv_message_size: 16777216
# containerd_grpc_max_send_message_size: 16777216

# containerd_debug_level: "info"

# containerd_metrics_address: ""

# containerd_metrics_grpc_histogram: false

# Registries defined within containerd.
# containerd_registries_mirrors:
#  - prefix: docker.io
#    mirrors:
#     - host: https://registry-1.docker.io
#       capabilities: ["pull", "resolve"]
#       skip_verify: false
containerd_registries_mirrors:
  - prefix: {{ registry_host }}
    mirrors:
      - host: http://{{ registry_host }}
        capabilities: ["pull", "resolve"]
        skip_verify: true

# `containerd_registries_mirrors` is ignored for pulling images when `image_command_tool=nerdctl`
# (the default for `container_manager=containerd`). Use `crictl` instead, it supports
# `containerd_registries_mirrors` but lacks proper multi-arch support (see
# [#8375](https://github.com/kubernetes-sigs/kubespray/issues/8375)):
image_command_tool: crictl


# containerd_max_container_log_line_size: -1

# containerd_registry_auth:
#   - registry: 10.0.0.2:5000
#     username: user
#     password: pass
